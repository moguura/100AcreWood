<!DOCTYPE html>
<html>
<head>
  <title>Activity１</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <style>
    .question {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 30px; /* 各質問とボタンの間のスペース */
    }

    .question p {
      margin-right: 30px; /* 質問とボタン間の余白 */
    }
  </style>
</head>
<body>
  <div id="content" class="mobile-responsive">
    <h1>Activity１</h1>

    <!-- 質問セット -->
    <div id="questions">
      <!-- 各質問を繰り返し処理 -->
      <div class="question" id="Q1">
        <p>Q1</p>
        <button class="startButton" data-question="Q1">Q1のマイク</button>
        <div class="imageContainer" id="imageContainerQ1" style="display: none;">
          <img class="correctImage" src="https://i.gyazo.com/1e22bb6e3277bc880874af560819d084.png" alt="正しい答え">
          <img class="wrongImage" src="https://i.gyazo.com/4c0f03855a174df42e94a2d23286e44b.png" alt="間違った答え">
        </div>
        <audio class="correctAudio" id="correctAudioQ1" src="https://docs.google.com/uc?id=1ifIhEbGeuPAYLwcCHZJEk4PwGdNMmhAB"></audio>
        <audio class="wrongAudio" id="wrongAudioQ1" src="https://docs.google.com/uc?id=1vQXcHR99MaW7unej3c7q5-foVpJspESu"></audio>
      </div>
      <!-- 他の質問を同様に繰り返し処理 -->

    </div>
  </div>
  
  <script> 
    const answers = {
      Q1: ["暑い", "暑いです"],
      Q2: ["寒くない", "寒くないです"],
      Q3: ["冷たい", "冷たいです"],
      Q4: ["暑くない", "暑くないです"],
      Q5: ["近い", "近いです"],
      Q6: ["近くない", "近くないです"],
      Q7: ["高くない", "高くないです"],
      Q8: ["安い", "安いです"],
      Q9: ["いい", "いいです"],
      Q10: ["よくない", "よくないです"],
      Q11: ["涼しい", "涼しいです"],
      Q12: ["暖かくない", "暖かくないです"]
    };

    // 各質問の音声認識処理を繰り返し処理
    const questions = document.querySelectorAll('.question');
    questions.forEach(question => {
      const questionId = question.id;

      question.querySelector('.startButton').addEventListener('click', function() {
        startRecognition(questionId);
      });
    });

    function startRecognition(questionId) {
      const recognition = new webkitSpeechRecognition() || new SpeechRecognition();
      recognition.lang = 'ja-JP';

      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript.trim();
        const correctImage = document.querySelector(`#imageContainer${questionId} .correctImage`);
        const wrongImage = document.querySelector(`#imageContainer${questionId} .wrongImage`);
        const correctAudio = document.querySelector(`#correctAudio${questionId}`);
        const wrongAudio = document.querySelector(`#wrongAudio${questionId}`);

        if (answers[questionId].includes(transcript)) {
          correctImage.style.display = 'block';
          wrongImage.style.display = 'none';
          correctAudio.play(); // 正解音声再生
        } else {
          correctImage.style.display = 'none';
          wrongImage.style.display = 'block';
          wrongAudio.play(); // 不正解音声再生
        }
        document.querySelector(`#imageContainer${questionId}`).style.display = 'block';
      };

      recognition.onerror = function(event) {
        console.error('エラーが発生しました。', event.error);
      };

      recognition.start();
    }
  </script>
　<script src="script.js"></script>
</body>
</html>

